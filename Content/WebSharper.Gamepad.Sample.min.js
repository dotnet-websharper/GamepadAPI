import { Start as fS } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fT, SetOptional as fU, Lazy as fV, GetOptional as fW, CreateFuncWithArgs as fX, DeleteEmptyFields as fY, Create as fZ, OnLoad as f0 } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(f1){ return"Dispose"in f1;}
function b(){ globalThis.addEventListener("gamepadconnected", c);globalThis.addEventListener("gamepaddisconnected", d);globalThis.addEventListener("keydown", e);globalThis.addEventListener("keyup", f);g();const f1=new z("New_1");const f2=(f1.h.push(new R("status", k().View)),f1);const f3=(f2.h.push(new R("buttons", j().View)),f2);const f4=(f3.h.push(new R("lx", i().View)),f3);const f5=(f4.h.push(new R("ly", h().View)),f4);const f6=U(f5.k, f5.h, []);const f7=new u(f6[1], N(f6[0]));let f8=(f5.i=f7,f7);const f9=f8.Doc;V("");bc.RunById("main", f9);}
function c(f1){ l(P(f1.gamepad.index));k().Set("Gamepad Connected: "+String(f1.gamepad.id));m();}
function d(){ k().Set("Gamepad Disconnected");l(null);}
function e(f1){ const f2=f1.key;if(f2=="ArrowUp")v(n().Axes, 1, -1);else f2=="ArrowDown"?v(n().Axes, 1, 1):f2=="ArrowLeft"?v(n().Axes, 0, -1):f2=="ArrowRight"?v(n().Axes, 0, 1):f2==" "?w(n().Buttons, 0).pressed=true:void 0;}
function f(f1){ const f2=f1.key;switch(f2){ case"ArrowDown":case"ArrowUp":v(n().Axes, 1, 0);break;case"ArrowRight":case"ArrowLeft":v(n().Axes, 0, 0);break;case" ":w(n().Buttons, 0).pressed=false;break;default:null;break;} }
function g(){ j().Set(w(n().Buttons, 0).pressed?"Button 0 (Spacebar)":"None");i().Set(String(w(n().Axes, 0)));h().Set(String(w(n().Axes, 1)));requestAnimationFrame(() => { g();});}
function h(){ return S.leftStickY;}
function i(){ return S.leftStickX;}
function j(){ return S.buttonPressed;}
function k(){ return S.statusMessage;}
function l(f1){ S.gamepadIndex=f1;}
function m(){ if(o()==null){ } else { const f1=o().$0;const f2=w(globalThis.navigator.getGamepads(), f1);if(!(f2==null)){ const f3=be((f5) => f5, bd((f5, f6) => f6.pressed?P("Button "+String(f5)):null, f2.buttons));const f4=y(f3)>0?bt(", ", f3):"None";j().Set(f4);i().Set(String(w(f2.axes, 0)));h().Set(String(w(f2.axes, 1)));requestAnimationFrame(() => { m();});} else void 0;} }
function n(){ return S.fakeGamepad;}
function o(){ return S.gamepadIndex;}
function p(f1){ let f2=[];let f3;for(var f4 in f1)f2.push(f1[f4]);return f2;}
function q(f1){ throw new Error(f1);}
function r(f1){ return[f1.K, f1.V];}
function s(f1, f2){ const f3=1+f2-f1;return f3<=0?[]:bO(f3, (f4) => f4+f1);}
class t { Equals(f1){ return this===f1;} GetHashCode(){ return -1;} }
class u extends t { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(f1, f2){ super();this.doc=f2;this.allVars=f1.$==0?f1.$0:q("Should not happen");this.anchorRoot=null;} }
function v(f1, f2, f3){ x(f1, f2);f1[f2]=f3;}
function w(f1, f2){ x(f1, f2);return f1[f2];}
function x(f1, f2){ if(f2<0||f2>=f1.length)q("Index was outside the bounds of the array.");}
function y(f1){ return f1.dims===2?f1.length*f1.length:f1.length;}
class z extends t { i;k;h;s;static New_1(){ return new this("New_1");} constructor(f1){ if(f1=="New_1"){ let f2;super();this.i=null;this.k=(f2=T(),String(f2));this.h=fT([]);fU(this, "s", null);} } }
class A extends t { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f1, f2){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ef("");} }
class B extends t { }
function C(f1, f2){ if(f1===f2)return true;else { const f3=typeof f1;if(f3=="object"){ if(f1===null||f1===void 0||f2===null||f2===void 0||!C(typeof f2, "object"))return false;else if("Equals"in f1)return f1.Equals(f2);else if("Equals"in f2)return false;else if(f1 instanceof Array&&f2 instanceof Array)return D(f1, f2);else if(f1 instanceof Date&&f2 instanceof Date)return E(f1, f2);else { const f4=[true];let f5;for(var f7 in f1)if(((f8) => { f4[0]=!f1.hasOwnProperty(f8)||f2.hasOwnProperty(f8)&&C(f1[f8], f2[f8]);return!f4[0];})(f7))break;if(f4[0]){ let f6;for(var f8 in f2)if(((f9) => { f4[0]=!f2.hasOwnProperty(f9)||f1.hasOwnProperty(f9);return!f4[0];})(f8))break;} return f4[0];} } else return f3=="function"&&("$Func"in f1?f1.$Func===f2.$Func&&f1.$Target===f2.$Target:"$Invokes"in f1&&"$Invokes"in f2&&D(f1.$Invokes, f2.$Invokes));} }
function D(f1, f2){ let f3;let f4;if(y(f1)===y(f2)){ f3=true;f4=0;while(f3&&f4<y(f1)){!C(w(f1, f4), w(f2, f4))?f3=false:void 0;f4=f4+1;} return f3;} else return false;}
function E(f1, f2){ return f1.getTime()===f2.getTime();}
function F(f1){ const f2=typeof f1;return f2=="function"?0:f2=="boolean"?f1?1:0:f2=="number"?f1:f2=="string"?G(f1):f2=="object"?f1==null?0:f1 instanceof Array?H(f1):I(f1):0;}
function G(f1){ let f2;if(f1===null)return 0;else { f2=5381;for(let f3=0, f4=f1.length-1;f3<=f4;f3++)f2=J(f2, f1[f3].charCodeAt());return f2;} }
function H(f1){ let f2=-34948909;for(let f3=0, f4=y(f1)-1;f3<=f4;f3++)f2=J(f2, F(w(f1, f3)));return f2;}
function I(f1){ if("GetHashCode"in f1)return f1.GetHashCode();else { const f2=[0];let f3;for(var f4 in f1)if(((f5) => { f2[0]=J(J(f2[0], G(f5)), F(f1[f5]));return false;})(f4))break;return f2[0];} }
function J(f1, f2){ return(f1<<5)+f1+f2;}
function K(f1, f2){ if(f1===f2)return 0;else { const f3=typeof f1;switch(f3=="function"?1:f3=="boolean"?2:f3=="number"?2:f3=="string"?2:f3=="object"?3:0){ case 0:return typeof f2=="undefined"?0:-1;case 1:return q("Cannot compare function values.");case 2:return f1<f2?-1:1;case 3:if(f1===null)return -1;else if(f2===null)return 1;else if("CompareTo"in f1)return f1.CompareTo(f2);else if("CompareTo0"in f1)return f1.CompareTo0(f2);else if(f1 instanceof Array&&f2 instanceof Array)return L(f1, f2);else if(f1 instanceof Date&&f2 instanceof Date)return M(f1, f2);else { const f4=[0];let f5;for(var f7 in f1)if(((f8) =>!f1.hasOwnProperty(f8)?false:!f2.hasOwnProperty(f8)?(f4[0]=1,true):(f4[0]=K(f1[f8], f2[f8]),f4[0]!==0))(f7))break;if(f4[0]===0){ let f6;for(var f8 in f2)if(((f9) =>!f2.hasOwnProperty(f9)?false:!f1.hasOwnProperty(f9)&&(f4[0]=-1,true))(f8))break;} return f4[0];} break;} } }
function L(f1, f2){ let f3;let f4;if(y(f1)<y(f2))return -1;else if(y(f1)>y(f2))return 1;else { f3=0;f4=0;while(f3===0&&f4<y(f1)){ f3=K(w(f1, f4), w(f2, f4));f4=f4+1;} return f3;} }
function M(f1, f2){ return K(f1.getTime(), f2.getTime());}
function N(f1){ V("index");return f1?W("index", P("main"), f1):void 0;}
function O(f1){ const f2={};const f3=cu(f1);try { while(f3.MoveNext()){ const f4=f3.Current;f2[f4[0]]=f4[1];} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} return f2;}
function P(f1){ return{$:1, $0:f1};}
class Q extends A { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return ef(this.fillWith);} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class R extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(this.fillWith);} get AsChoiceView(){ return eg(this.fillWith);} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
let S=fV((f1) => class f2 { static { S=f1(this);} static fakeGamepad;static gamepadIndex;static leftStickY;static leftStickX;static buttonPressed;static statusMessage;static { this.statusMessage=bD.Create_1("\ud83c\udfae Press Arrow Keys or Spacebar to simulate a Gamepad!");this.buttonPressed=bD.Create_1("None");this.leftStickX=bD.Create_1("0");this.leftStickY=bD.Create_1("0");this.gamepadIndex=null;this.fakeGamepad={Axes:[0, 0], Buttons:bf(16, () =>({pressed:false}))};} });
function T(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (f1) => { const f2=Math.random()*16|0;const f3=f1=="x"?f2:f2&3|8;return f3.toString(16);});}
function U(f1, f2, f3){ const f4=new bB("New_5");const f5=new bE("New_3");const f6=cu(f2);try { while(f6.MoveNext()){ const f7=f6.Current;const f8=f7.Name;f5.SAdd(f8);f4.set_Item(f8, f7);} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} return[bF(f2, be((f9) => { const f_=f9[0];const f$=f9[1];const ga=f9[2];if(f5.Contains(f_))return null;else { const gb=f$===0?bU.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:P(ga.$0);let gd=bD.Create_1(gc==null?"":gc.$0);return new bV(f_, gd);}):f$===1?bU.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:P(ga.$0);let gd=bD.Create_1(gc==null?0:gc.$0);return new bW(f_, gd);}):f$===2?bU.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:P(ga.$0);let gd=bD.Create_1(gc==null?false:gc.$0);return new bX(f_, gd);}):f$===3?bU.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:P(ga.$0);let gd=bD.Create_1(gc==null?-8640000000000000:gc.$0);return new bY(f_, gd);}):f$===4?bU.GetOrAddHoleFor(f1, f_, () => new bZ(f_, bD.Create_1([]))):f$===5?bU.GetOrAddHoleFor(f1, f_, () => new b0(f_, bD.Create_1(P(globalThis.document.querySelector("[ws-dom="+f_+"]"))))):f$===6?bU.GetOrAddHoleFor(f1, f_, () => { const gc=ga==null?null:P(ga.$0);let gd=bD.Create_1(gc==null?[]:gc.$0);return new b1(f_, gd);}):q("Invalid value type");f4.set_Item(f_, gb);return P(gb);} }, f3)), {$:0, $0:f4}];}
function V(f1){!X()?(Y(true),Z(globalThis.document.body, "")):void 0;u0030().set_Item(f1, u0031(""));}
function W(f1, f2, f3){ let f4;const f5=(f4=null,[u0031(f1).TryGetValue(f2==null?"":f2.$0, {get:() => f4, set:(f6) => { f4=f6;}}), f4]);return f5[0]?u0032(f5[1].cloneNode(true), f3):(console.warn("Local template doesn't exist", f2),bc.Empty);}
function X(){ return cz.LocalTemplatesLoaded;}
function Y(f1){ cz.LocalTemplatesLoaded=f1;}
function Z(f1, f2){ const f3=u0031(f2);const f4=new bB("New_5");const f5=f1.querySelectorAll("[ws-template]");for(let gf=0, gg=f5.length-1;gf<=gg;gf++){ const f6=f5[gf];const f7=f6.getAttribute("ws-template").toLowerCase();f6.removeAttribute("ws-template");f4.set_Item(f7, u0033(f6));} const f8=f1.querySelectorAll("[ws-children-template]");for(let gh=0, gi=f8.length-1;gh<=gi;gh++){ const f9=f8[gh];const f_=f9.getAttribute("ws-children-template").toLowerCase();f9.removeAttribute("ws-children-template");f4.set_Item(f_, u0034(f9));} const f$=f1.querySelectorAll("template[id]");for(let gj=0, gk=f$.length-1;gj<=gk;gj++){ const ga=f$[gj];f4.set_Item(ga.getAttribute("id").toLowerCase(), u0035(ga));} const gb=f1.querySelectorAll("template[name]");for(let gl=0, gm=gb.length-1;gl<=gm;gl++){ const gc=gb[gl];f4.set_Item(gc.getAttribute("name").toLowerCase(), u0035(gc));} const gd=new bE("New_3");function ge(gn){ if(!f3.ContainsKey(gn)){ let go;const gp=(go=null,[f4.TryGetValue(gn, {get:() => go, set:(gq) => { go=gq;}}), go]);if(gp[0]){ gd.SAdd(gn);f4.RemoveKey(gn);u0036(f2, P(gn), gp[1], P(ge));} else console.warn(gd.Contains(gn)?"Encountered loop when instantiating "+gn:"Local template does not exist: "+gn);} } while(f4.count>0)ge(bG(f4.Keys));}
function u0030(){ return cz.LoadedTemplates;}
function u0031(f1){ let f2;const f3=(f2=null,[u0030().TryGetValue(f1, {get:() => f2, set:(f5) => { f2=f5;}}), f2]);if(f3[0])return f3[1];else { const f4=new bB("New_5");u0030().set_Item(f1, f4);return f4;} }
function u0032(f1, f2){ let f3;const f4=u0037(f1, bF(f2, u0038().Values));const f5=f4[1];const f6=f4[0];const f7=f6.Els;return!C(f7, null)&&f7.length===1&&(w(f7, 0)instanceof Node&&(C(w(f7, 0).nodeType, Node.ELEMENT_NODE)&&(f3=w(f7, 0),true)))?c1.TreeNode(f6, f5):bc.Mk(b3(f6), f5);}
function u0033(f1){ f1.removeAttribute("ws-template");const f2=f1.getAttribute("ws-replace");if(f2==null){ } else { f1.removeAttribute("ws-replace");const f3=f1.parentNode;if(C(f3, null)){ } else { const f4=globalThis.document.createElement(f1.tagName);f4.setAttribute("ws-replace", f2);f3.replaceChild(f4, f1);} } const f5=globalThis.document.createElement("div");f5.appendChild(f1);return f5;}
function u0034(f1){ const f2=globalThis.document.createElement("div");while(f1.hasChildNodes())f2.appendChild(f1.firstChild);return f2;}
function u0035(f1){ const f2=globalThis.document.createElement("div");const f3=f1.content;for(let f4=0, f5=f3.childNodes.length-1;f4<=f5;f4++)f2.appendChild(f3.childNodes[f4].cloneNode(true));return f2;}
function u0036(f1, f2, f3, f4){ const f5=new bE("New_3");function f6(gb, gc){ while(true)switch(gb){ case 0:if(gc!==null){ const gd=gc.nextSibling;if(C(gc.nodeType, Node.TEXT_NODE))c_(gc);else if(C(gc.nodeType, Node.ELEMENT_NODE))f8(gc);gc=gd;} else return null;break;case 1:const ge=dg(gc.nodeName, P(3), null).toLowerCase();const gf=ge.indexOf(".");const gg=gf===-1?[f1, ge]:[dg(ge, null, P(gf-1)), dg(ge, P(gf+1), null)];const gh=gg[1];const gi=gg[0];if(gi!=""&&!u0030().ContainsKey(gi))return c$(gh);else { if(gi==""&&f4!=null)f4.$0(gh);const gj=u0030().Item(gi);if(!gj.ContainsKey(gh))return c$(gh);else { const gk=gj.Item(gh);const gl=gk.cloneNode(true);const gm=new bE("New_3");const gn=new bB("New_5");const go=gc.attributes;for(let gy=0, gz=go.length-1;gy<=gz;gy++){ const gp=go.item(gy).name.toLowerCase();const gq=go.item(gy).nodeValue;let gr=gq==""?gp:gq.toLowerCase();gn.set_Item(gp, gr);if(!gm.SAdd(gp))console.warn("Hole mapped twice", gp);} for(let gA=0, gB=gc.childNodes.length-1;gA<=gB;gA++){ const gs=gc.childNodes[gA];if(C(gs.nodeType, Node.ELEMENT_NODE))if(!gm.SAdd(gs.nodeName.toLowerCase()))console.warn("Hole filled twice", gh);} const gt=gc.childNodes.length===1&&C(gc.firstChild.nodeType, Node.TEXT_NODE);if(gt){ const gu=da(gl, gc.firstChild.textContent, gh);const gv=((gC) =>(gD) => gC.SAdd(gD))(gm);let gw=((gC) =>(gD) => { if(gD!=null)gC(gD.$0);})((gC) => { gv(gC);});gw(gu);} db(gl, gm);if(!gt){ for(let gC=0, gD=gc.childNodes.length-1;gC<=gD;gC++){ const gx=gc.childNodes[gC];if(C(gx.nodeType, Node.ELEMENT_NODE))if(gx.hasAttributes())dc(gl, gx);else f7(gl, gx);} } dd(gl, gn);de(gl, gc.parentNode, gc);gc.parentNode.removeChild(gc);return;} } break;} } function f7(gb, gc){ const gd=gc.nodeName.toLowerCase();const ge=(gi, gj) => { if(gd=="title"&&gc.hasChildNodes()){ const gk=dh(gc.textContent);gc.removeChild(gc.firstChild);while(gk.hasChildNodes())gc.appendChild(gk.firstChild);} f8(gc);return de(gc, gi, gj);};u0039(gb, "[ws-attr-holes]", (gi) => { const gj=bu(gi.getAttribute("ws-attr-holes"), [" "], 1);for(let gn=0, go=gj.length-1;gn<=go;gn++){ const gk=w(gj, gn);let gl=new RegExp("\\${"+gd+"}", "ig");let gm=gi.getAttribute(gk).replace(gl, gc.textContent);gi.setAttribute(gk, gm);} });const gf=gb.querySelector("[ws-hole="+gd+"]");if(C(gf, null)){ const gg=gb.querySelector("[ws-replace="+gd+"]");if(C(gg, null)){ const gh=gb.querySelector("slot[name="+gd+"]");return gb.tagName.toLowerCase()=="template"?(ge(gh.parentNode, gh),void gh.parentNode.removeChild(gh)):null;} else { ge(gg.parentNode, gg);gg.parentNode.removeChild(gg);return;} } else { while(gf.hasChildNodes())gf.removeChild(gf.lastChild);gf.removeAttribute("ws-hole");return ge(gf, null);} } function f8(gb){ if(!gb.hasAttribute("ws-preserve"))if(bv(gb.nodeName.toLowerCase(), "ws-"))f_(gb);else { df(gb);f9(gb.firstChild);} } function f9(gb){ return f6(0, gb);} function f_(gb){ return f6(1, gb);} function f$(gb){ while(true){ const gc=gb.querySelector("[ws-template]");if(C(gc, null)){ const gd=gb.querySelector("[ws-children-template]");if(C(gd, null)){ const ge=gb.querySelectorAll("template[id]");for(let gk=1, gl=ge.length-1;gk<=gl;gk++){ const gf=ge[gk];if(f5.Contains(gf)){ } else { u0036(f1, P(gf.getAttribute("id")), gf, null);f5.SAdd(gf);} } const gg=gb.querySelectorAll("template[name]");for(let gm=1, gn=gg.length-1;gm<=gn;gm++){ const gh=gg[gm];if(f5.Contains(gh)){ } else { u0036(f1, P(gh.getAttribute("name")), gh, null);f5.SAdd(gh);} } return null;} else { const gi=gd.getAttribute("ws-children-template");gd.removeAttribute("ws-children-template");u0036(f1, P(gi), gd, null);gb=gb;} } else { const gj=gc.getAttribute("ws-template");($(f1, P(gj), gc))(null);gb=gb;} } } const ga=(f2==null?"":f2.$0).toLowerCase();u0031(f1).set_Item(ga, f3);if(f3.hasChildNodes()){ f$(f3);f9(f3.firstChild);} }
function u0037(f1, f2){ let f3;const f4=[];const f5=[];const f6=[];const f7=[];const f8=new bB("New_5");const f9=cu(f2);try { while(f9.MoveNext()){ const f_=f9.Current;f8.set_Item(f_.Name, f_);} } finally { if(typeof f9=="object"&&a(f9))f9.Dispose();} let f$=di(f1);const ga=(gj, gk) => { const gl=dI(gj, gk);f5.push(dJ(gl));f6.push([gj, gl]);const gm=fW(gl.OnAfterRender);if(gm==null)return null;else { const gn=gm.$0;f7.push(() => { gn(gj);});return;} };const gb=(gj) => { let gk;const gl=(gk=null,[f8.TryGetValue(gj, {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gl[0]){ const gm=gl[1];if(gm instanceof dZ)return P(gm.Value);else if(gm instanceof Q)return P(bc.TextNode(gm.Value));else { const gn=gm.ForTextView();return gn==null?null:P(bc.TextView(gn.$0));} } else return null;};u0039(f1, "[ws-hole]", (gj) => { const gk=gj.getAttribute("ws-hole");gj.removeAttribute("ws-hole");while(gj.hasChildNodes())gj.removeChild(gj.lastChild);const gl=gb(gk);if(gl!=null&&gl.$==1){ const gm=gl.$0;cA(gj, gm.docNode);f4.push(cU.New(dK(gj), gm.docNode, null, gj, cV(), null));f5.push(gm.updates);} });u0039(f1, "[ws-replace]", (gj) => { const gk=gb(gj.getAttribute("ws-replace"));if(gk!=null&&gk.$==1){ const gl=gk.$0;const gm=gj.parentNode;const gn=globalThis.document.createTextNode("");gm.replaceChild(gn, gj);const go=cF(gn, gl.docNode);f$=di(f1);const gp=bh((gq) => gj===gq, f$);if(gp==null){ } else v(f$, gp.$0, gl.docNode);f4.push(cU.New(dK(gm), gl.docNode, P([go, gn]), gm, cV(), null));f5.push(gl.updates);} });let gc=false;u0039(f1, "slot", (gj) => { const gk=gj.getAttribute("name");const gl=gk==""||gk==null?"default":gk.toLowerCase();if(gc&&gl=="default"||!C(f1.parentElement, null)){ } else { while(gj.hasChildNodes())gj.removeChild(gj.lastChild);if(gl=="default")gc=true;const gm=gb(gl);if(gm!=null&&gm.$==1){ const gn=gm.$0;cA(gj, gn.docNode);f4.push(cU.New(dK(gj), gn.docNode, null, gj, cV(), null));f5.push(gn.updates);} } });u0039(f1, "[ws-attr]", (gj) => { let gk;const gl=gj.getAttribute("ws-attr");gj.removeAttribute("ws-attr");const gm=(gk=null,[f8.TryGetValue(gl, {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gm[0]){ const gn=gm[1];if(gn instanceof d0)ga(gj, gn.Value);else console.warn("Attribute hole filled with non-attribute data", gl);} });u0039(f1, "[ws-on]", (gj) => { ga(gj, ec.Concat(be((gk) => { let gl;const gm=bu(gk, [":"], 1);const gn=(gl=null,[f8.TryGetValue(w(gm, 1), {get:() => gl, set:(gp) => { gl=gp;}}), gl]);if(gn[0]){ const go=gn[1];return go instanceof d1?P(d2(w(gm, 0), go.Value)):go instanceof eb?P(ec.Handler(w(gm, 0), go.Value)):(console.warn("Event hole on"+w(gm, 0)+" filled with non-event data", w(gm, 1)),null);} else return null;}, bu(gj.getAttribute("ws-on"), [" "], 1))));gj.removeAttribute("ws-on");});u0039(f1, "[ws-onafterrender]", (gj) => { let gk;const gl=gj.getAttribute("ws-onafterrender");const gm=(gk=null,[f8.TryGetValue(gl, {get:() => gk, set:(go) => { gk=go;}}), gk]);if(gm[0]){ const gn=gm[1];if(gn instanceof ed){ gj.removeAttribute("ws-onafterrender");ga(gj, d3(gn.Value));} else if(gn instanceof ee){ gj.removeAttribute("ws-onafterrender");ga(gj, d3(gn.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gl);} });u0039(f1, "[ws-var]", (gj) => { let gk;const gl=gj.getAttribute("ws-var");gj.removeAttribute("ws-var");const gm=(gk=null,[f8.TryGetValue(gl, {get:() => gk, set:(gn) => { gk=gn;}}), gk]);if(gm[0])gm[1].AddAttribute((gn) =>(go) => ga(gn, go), gj);});const gd=() => { ba("[ws-dom]", (gj) => { let gk;let gl;let gm;const gn=(gk=null,[f8.TryGetValue(gj.getAttribute("ws-dom").toLowerCase(), {get:() => gk, set:(gr) => { gk=gr;}}), gk]);if(gn[0]){ const go=gn[1];if(go instanceof b0){ const gp=go.Value;gj.removeAttribute("ws-dom");gl=gj;const gq=new MutationObserver((gr, gs) => { bm((gt) => { gt.removedNodes.forEach(fX((gu) => gu[0]===gl&&gt.addedNodes.length!==1?(gp.SetFinal(null),gs.disconnect()):null), null);}, gr);});if(gj.parentElement!==null)gq.observe(gj.parentElement, (gm={},gm.childList=true,gm));gp.Set(P(gj));c3((gr) => { if(gr!=null&&gr.$==1){ const gs=gr.$0;if(gl===gs){ } else { gl.replaceWith(gs);gl=gs;} } else { gl.remove();gq.disconnect();} }, gp.View);} } });};u0039(f1, "[ws-attr-holes]", (gj) => { const gk=new RegExp(bb(), "g");const gl=bu(gj.getAttribute("ws-attr-holes"), [" "], 1);gj.removeAttribute("ws-attr-holes");for(let gm=0, gn=gl.length-1;gm<=gn;gm++)((() => { let go;const gp=w(gl, gm);const gq=gj.getAttribute(gp);let gr=null;let gs=0;const gt=[];while(gr=gk.exec(gq),gr!==null){ const gu=dg(gq, P(gs), P(gk.lastIndex-w(gr, 0).length-1));gs=gk.lastIndex;gt.push([gu, w(gr, 1)]);} const gv=dg(gq, P(gs), null);gk.lastIndex=0;const gw=bn((gB, gC) =>(((gD) => { const gE=gD[0];const gF=gD[1];return(gG) => { let gH;const gI=gG[0];const gJ=gG[1];const gK=(gH=null,[f8.TryGetValue(gF, {get:() => gH, set:(gM) => { gH=gM;}}), gH]);const gL=gK[0]?gK[1].AsChoiceView:ef("");return gL.$==1?[gE, dF.Cons(gI==""?gL.$0:c4((gM) => gM+gI, gL.$0), gJ)]:[gE+gL.$0+gI, gJ];};})(gB))(gC), gt, [gv, dF.Empty]);if(gw[1].$==1){ if(gw[1].$1.$==1){ if(gw[1].$1.$1.$==1){ if(gw[1].$1.$1.$1.$==0){ const gx=gw[0];go=d4(gp, c5((gB, gC, gD) => gx+gB+gC+gD, gw[1].$0, gw[1].$1.$0, gw[1].$1.$1.$0));} else { const gy=gw[0];go=d4(gp, c4((gB) => gy+bt("", gB), c6(gw[1])));} } else { const gz=gw[0];go=d4(gp, c7((gB, gC) => gz+gB+gC, gw[1].$0, gw[1].$1.$0));} } else if(gw[0]=="")go=d4(gp, gw[1].$0);else { const gA=gw[0];go=d4(gp, c4((gB) => gA+gB, gw[1].$0));} } else go=ec.Create(gp, gw[0]);return ga(gj, go);})());});let ge=f$;const gf=f7.length==0?P(() => { gd();}):P((gj) => { gd();bm((gk) => { gk(gj);}, f7);});const gg=!C(f$, null)&&f$.length===1&&(w(f$, 0)instanceof Node&&(w(f$, 0)instanceof Element&&(f3=w(f$, 0),true)))?P(f3):null;let gh={Els:ge, Dirty:true, Holes:f4, Attrs:f6, Render:gf?gf.$0:void 0, El:gg?gg.$0:void 0};let gi=fY(gh, ["Render", "El"]);return[gi, eh(c2(), c8, f5)];}
function u0038(){ return cz.GlobalHoles;}
function u0039(f1, f2, f3){ do_1(f1, f2, (f4) => { if(f4.closest("[ws-preserve]")==null)f3(f4);});}
function $(f1, f2, f3){ const f4=u0033(f3);return(f5) => { u0036(f1, f2, f4, f5);};}
function ba(f1, f2){ dp(f1, (f3) => { if(f3.closest("[ws-preserve]")==null)f2(f3);});}
function bb(){ return cz.TextHoleRE;}
class bc extends t { docNode;updates;static RunById(f1, f2){ const f3=globalThis.document.getElementById(f1);if(C(f3, null))q("invalid id: "+f1);else bc.Run(f3, f2);} static Run(f1, f2){ cA(f1, f2.docNode);bc.RunInPlace(false, f1, f2);} static get Empty(){ return bc.Mk(null, c2());} static RunInPlace(f1, f2, f3){ const f4=cC(f2, f3.docNode);c3(dw()||dD()?dE(cD(f1, f4, f3.docNode)):() => { cE(f1, f4, f3.docNode);}, f3.updates);} static Mk(f1, f2){ return new bc(f1, f2);} static TextNode(f1){ return bc.Mk(b4(globalThis.document.createTextNode(f1)), c2());} static TextView(f1){ const f2=cN();return bc.Mk(b5(f2), c4((f3) => { cO(f2, f3);}, f1));} constructor(f1, f2){ super();this.docNode=f1;this.updates=f2;} }
function bd(f1, f2){ const f3=new Array(f2.length);for(let f4=0, f5=f2.length-1;f4<=f5;f4++)f3[f4]=f1(f4, f2[f4]);return f3;}
function be(f1, f2){ const f3=[];for(let f5=0, f6=f2.length-1;f5<=f6;f5++){ const f4=f1(f2[f5]);if(f4==null){ } else f3.push(f4.$0);} return f3;}
function bf(f1, f2){ if(f1<0)q("Negative size given.");else null;const f3=new Array(f1);for(let f4=0, f5=f1-1;f4<=f5;f4++)f3[f4]=f2(f4);return f3;}
function bg(f1){ if(f1 instanceof Array)return f1.slice();else if(f1 instanceof dF)return bl(f1);else { const f2=[];const f3=cu(f1);try { while(f3.MoveNext())f2.push(f3.Current);return f2;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } }
function bh(f1, f2){ let f3=null;let f4=0;while(f4<f2.length&&f3==null){ f1(f2[f4])?f3=P(f4):void 0;f4=f4+1;} return f3;}
function bi(f1, f2){ let f3=null;let f4=0;while(f4<f2.length&&f3==null){ const f5=f1(f2[f4]);if(f5!=null&&f5.$==1)f3=f5;f4=f4+1;} return f3;}
function bj(f1, f2){ let f3=false;let f4=0;while(!f3&&f4<y(f2))if(f1(f2[f4]))f3=true;else f4=f4+1;return f3;}
function bk(f1){ return Array.prototype.concat.apply([], bg(f1));}
function bl(f1){ const f2=[];let f3=f1;while(!(f3.$==0)){ f2.push(eP(f3));f3=eQ(f3);} return f2;}
function bm(f1, f2){ for(let f3=0, f4=f2.length-1;f3<=f4;f3++)f1(f2[f3]);}
function bn(f1, f2, f3){ let f4=f3;const f5=f2.length;for(let f6=1, f7=f5;f6<=f7;f6++)f4=f1(f2[f5-f6], f4);return f4;}
function bo(f1, f2){ const f3=new Array(f2.length);for(let f4=0, f5=f2.length-1;f4<=f5;f4++)f3[f4]=f1(f2[f4]);return f3;}
function bp(f1, f2){ const f3=[];for(let f4=0, f5=f2.length-1;f4<=f5;f4++)if(f1(f2[f4]))f3.push(f2[f4]);return f3;}
function bq(f1, f2){ const f3=bi(f1, f2);return f3==null?q("KeyNotFoundException"):f3.$0;}
function br(f1, f2){ let f3=true;let f4=0;while(f3&&f4<y(f2))if(f1(f2[f4]))f4=f4+1;else f3=false;return f3;}
function bs(f1, f2){ const f3=new Array(f1);for(let f4=0, f5=f1-1;f4<=f5;f4++)f3[f4]=f2;return f3;}
function bt(f1, f2){ return bg(f2).join(f1);}
function bu(f1, f2, f3){ return bw(f1, new RegExp("["+bx(f2.join(""))+"]"), f3);}
function bv(f1, f2){ return f1.substring(0, f2.length)==f2;}
function bw(f1, f2, f3){ return f3===1?bp((f4) => f4!=="", by(f1, f2)):by(f1, f2);}
function bx(f1){ return f1.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function by(f1, f2){ return f1.split(f2);}
function bz(f1, f2){ return bS(f1, bA(f2));}
function bA(f1){ return f1==null?"":f1;}
class bB extends t { equals;hash;count;data;set_Item(f1, f2){ this.set(f1, f2);} set(f1, f2){ const f3=this.hash(f1);const f4=this.data[f3];if(f4==null){ this.count=this.count+1;this.data[f3]=new Array({K:f1, V:f2});} else { const f5=bh((f6) => this.equals.apply(null, [(r(f6))[0], f1]), f4);if(f5==null){ this.count=this.count+1;f4.push({K:f1, V:f2});} else f4[f5.$0]={K:f1, V:f2};} } TryGetValue(f1, f2){ const f3=this.data[this.hash(f1)];if(f3==null)return false;else { const f4=bi((f5) => { const f6=r(f5);return this.equals.apply(null, [f6[0], f1])?P(f6[1]):null;}, f3);return f4!=null&&f4.$==1&&(f2.set(f4.$0),true);} } ContainsKey(f1){ const f2=this.data[this.hash(f1)];return f2==null?false:bj((f3) => this.equals.apply(null, [(r(f3))[0], f1]), f2);} RemoveKey(f1){ return this.remove(f1);} get Keys(){ return new dv(this);} GetEnumerator(){ return cx(bk(p(this.data)));} get Values(){ return new el(this);} remove(f1){ const f2=this.hash(f1);const f3=this.data[f2];if(f3==null)return false;else { const f4=bp((f5) =>!this.equals.apply(null, [(r(f5))[0], f1]), f3);return y(f4)<f3.length&&(this.count=this.count-1,this.data[f2]=f4,true);} } Item(f1){ return this.get(f1);} get(f1){ const f2=this.data[this.hash(f1)];return f2==null?ct():bq((f3) => { const f4=r(f3);return this.equals.apply(null, [f4[0], f1])?P(f4[1]):null;}, f2);} static New_5(){ return new this("New_5");} static New_6(f1, f2, f3){ return new this("New_6", f1, f2, f3);} constructor(f1, f2, f3, f4){ if(f1=="New_5"){ f1="New_6";f2=[];f3=C;f4=F;} if(f1=="New_6"){ const f5=f2;const f6=f3;const f7=f4;super();this.equals=f6;this.hash=f7;this.count=0;this.data=[];const f8=cu(f5);try { while(f8.MoveNext()){ const f9=f8.Current;this.set(f9.K, f9.V);} } finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} } } }
function bC(f1, f2){ return fK(f1, -2147483648, 2147483647, f2);}
let bD=fV((f1) => class f2 extends t { static { bD=f1(this);} static Create_1(f3){ return new b7(false, {s:cY(f3, [])}, f3);} static { } });
class bE extends t { equals;hash;data;count;SAdd(f1){ return this.add(f1);} Contains(f1){ const f2=this.data[this.hash(f1)];return f2==null?false:this.arrContains(f1, f2);} add(f1){ const f2=this.hash(f1);const f3=this.data[f2];return f3==null?(this.data[f2]=[f1],this.count=this.count+1,true):this.arrContains(f1, f3)?false:(f3.push(f1),this.count=this.count+1,true);} arrContains(f1, f2){ let f3=true;let f4=0;const f5=f2.length;while(f3&&f4<f5)if(this.equals.apply(null, [f2[f4], f1]))f3=false;else f4=f4+1;return!f3;} GetEnumerator(){ return cu(eO(this.data));} ExceptWith(f1){ const f2=cu(f1);try { while(f2.MoveNext())this.Remove(f2.Current);} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } get Count(){ return this.count;} IntersectWith(f1){ const f2=new bE("New_4", f1, this.equals, this.hash);const f3=eO(this.data);for(let f5=0, f6=f3.length-1;f5<=f6;f5++){ const f4=f3[f5];if(!f2.Contains(f4))this.Remove(f4);} } Remove(f1){ const f2=this.data[this.hash(f1)];return f2==null?false:this.arrRemove(f1, f2)&&(this.count=this.count-1,true);} CopyTo(f1, f2){ const f3=eO(this.data);for(let f4=0, f5=f3.length-1;f4<=f5;f4++)v(f1, f4+f2, f3[f4]);} arrRemove(f1, f2){ let f3=true;let f4=0;const f5=f2.length;while(f3&&f4<f5)if(this.equals.apply(null, [f2[f4], f1])){ f2.splice(f4, 1);f3=false;} else f4=f4+1;return!f3;} static New_3(){ return new this("New_3");} static New_4(f1, f2, f3){ return new this("New_4", f1, f2, f3);} static New_2(f1){ return new this("New_2", f1);} constructor(f1, f2, f3, f4){ if(f1=="New_3"){ f1="New_4";f2=[];f3=C;f4=F;} let f5;if(f1=="New_2"){ f5=f2;f1="New_4";f2=f5;f3=C;f4=F;} if(f1=="New_4"){ const f6=f2;const f7=f3;const f8=f4;super();this.equals=f7;this.hash=f8;this.data=[];this.count=0;const f9=cu(f6);try { while(f9.MoveNext())this.add(f9.Current);} finally { if(typeof f9=="object"&&a(f9))f9.Dispose();} } } }
function bF(f1, f2){ return{GetEnumerator:() => { const f3=cu(f1);const f4=[true];return new cy(f3, null, (f5) => { if(f5.s.MoveNext()){ f5.c=f5.s.Current;return true;} else { const f6=f5.s;if(!C(f6, null))f6.Dispose();f5.s=null;return f4[0]&&(f4[0]=false,f5.s=cu(f2),f5.s.MoveNext()?(f5.c=f5.s.Current,true):(f5.s.Dispose(),f5.s=null,false));} }, (f5) => { const f6=f5.s;if(!C(f6, null))f6.Dispose();});}};}
function bG(f1){ const f2=cu(f1);try { return f2.MoveNext()?f2.Current:ds();} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function bH(f1, f2, f3){ let f4=f2;const f5=cu(f3);try { while(f5.MoveNext())f4=f1(f4, f5.Current);return f4;} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} }
function bI(f1, f2){ const f3=cu(f2);try { while(f3.MoveNext())f1(f3.Current);} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} }
function bJ(f1, f2){ return{GetEnumerator:() => { const f3=cu(f2);return new cy(null, null, (f4) => f3.MoveNext()&&(f4.c=f1(f3.Current),true), () => { f3.Dispose();});}};}
function bK(f1){ return{GetEnumerator:() => cu(f1())};}
function bL(f1, f2){ return bN(bJ(f1, f2));}
function bM(f1){ const f2=cu(f1);try { if(!f2.MoveNext())bP();let f3=f2.Current;while(f2.MoveNext()){ const f4=f2.Current;if(K(f4, f3)===1)f3=f4;} return f3;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function bN(f1){ return{GetEnumerator:() => { const f2=cu(f1);function f3(f4){ while(true){ const f5=f4.s;if(C(f5, null)){ if(f2.MoveNext()){ f4.s=cu(f2.Current);f4=f4;} else { f2.Dispose();return false;} } else if(f5.MoveNext()){ f4.c=f5.Current;return true;} else { f4.Dispose();f4.s=null;f4=f4;} } } return new cy(null, null, f3, (f4) => { const f5=f4.s;if(!C(f5, null))f5.Dispose();if(!C(f2, null))f2.Dispose();});}};}
function bO(f1, f2){ return bQ(f1, bR(f2));}
function bP(){ return q("The input sequence was empty.");}
function bQ(f1, f2){ f1<0?du():void 0;return{GetEnumerator:() => { const f3=[cu(f2)];return new cy(0, null, (f4) => { f4.s=f4.s+1;if(f4.s>f1)return false;else { const f5=f3[0];return C(f5, null)?ds():f5.MoveNext()?(f4.c=f5.Current,f4.s===f1?(f5.Dispose(),f3[0]=null):void 0,true):(f5.Dispose(),f3[0]=null,ds());} }, () => { const f4=f3[0];if(!C(f4, null))f4.Dispose();});}};}
function bR(f1){ return{GetEnumerator:() => new cy(0, null, (f2) => { f2.c=f1(f2.s);f2.s=f2.s+1;return true;}, void 0)};}
function bS(f1, f2){ return!bT((f3) =>!f1(f3), f2);}
function bT(f1, f2){ const f3=cu(f2);try { let f4=false;while(!f4&&f3.MoveNext())f4=f1(f3.Current);return f4;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} }
let bU=fV((f1) => class f2 extends t { static { bU=f1(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f3, f4, f5){ let f6;const f7=bU.GetHolesFor(f3);const f8=(f6=null,[f7.TryGetValue(f4, {get:() => f6, set:(f_) => { f6=f_;}}), f6]);if(f8[0])return f8[1];else { const f9=f5();f7.set_Item(f4, f9);return f9;} } static GetHolesFor(f3){ let f4;const f5=(f4=null,[bU.initialized.TryGetValue(f3, {get:() => f4, set:(f7) => { f4=f7;}}), f4]);if(f5[0])return f5[1];else { const f6=new bB("New_5");bU.initialized.set_Item(f3, f6);return f6;} } static { bU.initialized=new bB("New_5");bU.instances=new bB("New_5");} });
class bV extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(this.fillWith.View);} AddAttribute(f1, f2){(f1(f2))(d5(this.fillWith));} get AsChoiceView(){ return eg(c4(String, this.fillWith.View));} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class bW extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(c4(String, this.fillWith.View));} AddAttribute(f1, f2){(f1(f2))(d6(this.fillWith));} get AsChoiceView(){ return eg(c4(String, this.fillWith.View));} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class bX extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(c4(String, this.fillWith.View));} AddAttribute(f1, f2){(f1(f2))(d7(this.fillWith));} get AsChoiceView(){ return eg(c4(String, this.fillWith.View));} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class bY extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(c4((f1) =>(new Date(f1)).toLocaleString(), this.fillWith.View));} AddAttribute(f1, f2){(f1(f2))(d8(this.fillWith));} get AsChoiceView(){ return eg(c4((f1) =>(new Date(f1)).toLocaleString(), this.fillWith.View));} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class bZ extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(c4(String, this.fillWith.View));} AddAttribute(f1, f2){(f1(f2))(d9(this.fillWith));} get AsChoiceView(){ return eg(c4(String, this.fillWith.View));} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class b0 extends A { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class b1 extends A { name;fillWith;get Name(){ return this.name;} ForTextView(){ return P(c4((f1) => bt(",", f1), this.fillWith.View));} AddAttribute(f1, f2){(f1(f2))(d_(this.fillWith));} get AsChoiceView(){ return eg(c4(String, this.fillWith.View));} constructor(f1, f2){ super();this.name=f1;this.fillWith=f2;} }
class b2 extends t { }
function b3(f1){ return{$:6, $0:f1};}
function b4(f1){ return{$:5, $0:f1};}
function b5(f1){ return{$:4, $0:f1};}
class b6 { }
class b7 extends B { isConst;current;snap;view;id;get View(){ return this.view;} Set(f1){ if(this.isConst)(((f2) => f2("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f2) => { console.log(f2);}));else { dH(this.snap);this.current=f1;this.snap={s:cY(f1, [])};} } SetFinal(f1){ if(this.isConst)(((f2) => f2("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f2) => { console.log(f2);}));else { dH(this.snap);this.isConst=true;this.current=f1;this.snap={s:cZ(f1)};} } Get(){ return this.current;} UpdateMaybe(f1){ const f2=f1(this.Get());if(f2!=null&&f2.$==1)this.Set(f2.$0);} constructor(f1, f2, f3){ super();this.isConst=f1;this.current=f3;this.snap=f2;this.view=() => this.snap;this.id=cV();} }
function b8(f1, f2, f3){ const f4=f1.s;if(f4==null)f3();else f4!=null&&f4.$==2?(f4.$1.push(f3),f2(f4.$0)):f4!=null&&f4.$==3?(f4.$0.push(f2),f4.$1.push(f3)):f2(f4.$0);}
function b9(f1, f2){ const f3=f2.s;if(f3!=null&&f3.$==0)return{s:cZ(f1(f3.$0))};else { const f4={s:c0([], [])};ce(f2, (f5) => { cf(f4, f2, f1(f5));}, f4);return f4;} }
function b_(f1, f2, f3, f4){ const f5=f2.s;const f6=f3.s;const f7=f4.s;if(f5!=null&&f5.$==0)return f6!=null&&f6.$==0?f7!=null&&f7.$==0?{s:cZ(f1(f5.$0, f6.$0, f7.$0))}:cg(f1, f5.$0, f6.$0, f4):f7!=null&&f7.$==0?ch(f1, f5.$0, f7.$0, f3):ci(f1, f5.$0, f3, f4);else if(f6!=null&&f6.$==0)return f7!=null&&f7.$==0?cj(f1, f6.$0, f7.$0, f2):ck(f1, f6.$0, f2, f4);else if(f7!=null&&f7.$==0)return cl(f1, f7.$0, f2, f3);else { const f8={s:c0([], [])};const f9=() => { const f_=f8.s;if(!(f_!=null&&f_.$==0||f_!=null&&f_.$==2)){ const f$=cm(f2);const ga=cm(f3);const gb=cm(f4);if(f$!=null&&f$.$==1)if(ga!=null&&ga.$==1)if(gb!=null&&gb.$==1)if(f$.$0[1]&&ga.$0[1]&&gb.$0[1])cn(f8, f1(f$.$0[0], ga.$0[0], gb.$0[0]));else co(f8, f1(f$.$0[0], ga.$0[0], gb.$0[0]));} };ce(f2, f9, f8);ce(f3, f9, f8);ce(f4, f9, f8);return f8;} }
function b$(f1){ const f2=bg(f1);if(f2.length==0)return{s:cZ([])};else { const f3={s:c0([], [])};const f4=[y(f2)-1];const f5=() => { if(f4[0]===0){ const f6=bo((f7) => { const f8=f7.s;return f8!=null&&f8.$==0?f8.$0:f8!=null&&f8.$==2?f8.$0:q("value not found by View.Sequence");}, f2);if(br((f7) => { const f8=f7.s;return f8!=null&&f8.$==0;}, f2))cn(f3, f6);else co(f3, f6);} else f4[0]=f4[0]-1;};bm((f6) => { ce(f6, f5, f3);}, f2);return f3;} }
function ca(f1, f2, f3){ const f4=f2.s;const f5=f3.s;if(f4!=null&&f4.$==0)return f5!=null&&f5.$==0?{s:cZ(f1(f4.$0, f5.$0))}:cp(f1, f4.$0, f3);else if(f5!=null&&f5.$==0)return cq(f1, f5.$0, f2);else { const f6={s:c0([], [])};const f7=() => { const f8=f6.s;if(!(f8!=null&&f8.$==0||f8!=null&&f8.$==2)){ const f9=cm(f2);const f_=cm(f3);if(f9!=null&&f9.$==1)if(f_!=null&&f_.$==1)if(f9.$0[1]&&f_.$0[1])cn(f6, f1(f9.$0[0], f_.$0[0]));else co(f6, f1(f9.$0[0], f_.$0[0]));} };ce(f2, f7, f6);ce(f3, f7, f6);return f6;} }
function cb(f1, f2){ const f3=f1.s;const f4=f2.s;if(f3!=null&&f3.$==0)return f4!=null&&f4.$==0?{s:cZ(null)}:f2;else if(f4!=null&&f4.$==0)return f1;else { const f5={s:c0([], [])};const f6=() => { const f7=f5.s;if(!(f7!=null&&f7.$==0||f7!=null&&f7.$==2)){ const f8=cm(f1);const f9=cm(f2);if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f8.$0[1]&&f9.$0[1])cn(f5, null);else co(f5, null);} };ce(f1, f6, f5);ce(f2, f6, f5);return f5;} }
function cc(f1){ const f2=f1.s;if(f2==null)return f1;else if(f2!=null&&f2.$==2){ const f3={s:cY(f2.$0, [])};cr(f1, f3);return f3;} else if(f2!=null&&f2.$==3){ const f4={s:c0([], [])};ce(f1, (f5) => { cf(f4, f1, f5);}, f4);return f4;} else return f1;}
function cd(f1, f2){ const f3=f1.s;if(f3==null)f2();else f3!=null&&f3.$==2?f3.$1.push(f2):f3!=null&&f3.$==3?f3.$1.push(f2):void 0;}
function ce(f1, f2, f3){ const f4=f1.s;if(f4==null)dH(f3);else f4!=null&&f4.$==2?(cs(f4.$1, f3),f2(f4.$0)):f4!=null&&f4.$==3?(f4.$0.push(f2),cs(f4.$1, f3)):f2(f4.$0);}
function cf(f1, f2, f3){ const f4=f2.s;if(f4!=null&&f4.$==0)cn(f1, f3);else co(f1, f3);}
function cg(f1, f2, f3, f4){ return b9((f5) => f1(f2, f3, f5), f4);}
function ch(f1, f2, f3, f4){ return b9((f5) => f1(f2, f5, f3), f4);}
function ci(f1, f2, f3, f4){ return ca((f5, f6) => f1(f2, f5, f6), f3, f4);}
function cj(f1, f2, f3, f4){ return b9((f5) => f1(f5, f2, f3), f4);}
function ck(f1, f2, f3, f4){ return ca((f5, f6) => f1(f5, f2, f6), f3, f4);}
function cl(f1, f2, f3, f4){ return ca((f5, f6) => f1(f5, f6, f2), f3, f4);}
function cm(f1){ const f2=f1.s;return f2!=null&&f2.$==0?P([f2.$0, true]):f2!=null&&f2.$==2?P([f2.$0, false]):null;}
function cn(f1, f2){ const f3=f1.s;if(f3!=null&&f3.$==3){ f1.s=cZ(f2);const f4=f3.$0;for(let f5=0, f6=y(f4)-1;f5<=f6;f5++)(w(f4, f5))(f2);} else void 0;}
function co(f1, f2){ const f3=f1.s;if(f3!=null&&f3.$==3){ f1.s=cY(f2, f3.$1);const f4=f3.$0;for(let f5=0, f6=y(f4)-1;f5<=f6;f5++)(w(f4, f5))(f2);} else void 0;}
function cp(f1, f2, f3){ return b9((f4) => f1(f2, f4), f3);}
function cq(f1, f2, f3){ return b9((f4) => f1(f4, f2), f3);}
function cr(f1, f2){ const f3=f1.s;if(f3==null)dH(f2);else f3!=null&&f3.$==2?cs(f3.$1, f2):f3!=null&&f3.$==3?cs(f3.$1, f2):void 0;}
function cs(f1, f2){ f1.push(f2);if(f1.length%20===0){ const f3=f1.slice(0);fQ(f1);for(let f5=0, f6=y(f3)-1;f5<=f6;f5++){ const f4=w(f3, f5);if(typeof f4=="object")(((f7) => { if(f7.s)f1.push(f7);})(f4));else(((f7) => { f1.push(f7);})(f4));} } else void 0;}
function ct(){ throw new e0("New");}
function cu(f1){ return f1 instanceof Array?cv(f1):C(typeof f1, "string")?cw(f1):f1.GetEnumerator();}
function cv(f1){ return new cy(0, null, (f2) => { const f3=f2.s;return f3<y(f1)&&(f2.c=w(f1, f3),f2.s=f3+1,true);}, void 0);}
function cw(f1){ return new cy(0, null, (f2) => { const f3=f2.s;return f3<f1.length&&(f2.c=f1[f3],f2.s=f3+1,true);}, void 0);}
function cx(f1){ return f1 instanceof Array?cv(f1):C(typeof f1, "string")?cw(f1):"GetEnumerator0"in f1?f1.GetEnumerator0():f1.GetEnumerator();}
class cy extends t { s;c;n;d;e;MoveNext(){ const f1=this.n(this);this.e=f1?1:2;return f1;} get Current(){ return this.e===1?this.c:this.e===0?q("Enumeration has not started. Call MoveNext."):q("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f1, f2, f3, f4){ super();this.s=f1;this.c=f2;this.n=f3;this.d=f4;this.e=0;} }
let cz=fV((f1) => class f2 { static { cz=f1(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bB("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bB("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cA(f1, f2){ cB(f1, f2, null);}
function cB(f1, f2, f3){ while(true){ if(f2!=null&&f2.$==1)return cG(f1, f2.$0.El, f3);else if(f2!=null&&f2.$==2){ const f4=f2.$0;f4.Dirty=false;f2=f4.Current;} else if(f2==null)return f3;else if(f2!=null&&f2.$==4)return cG(f1, f2.$0.Text, f3);else if(f2!=null&&f2.$==5)return cG(f1, f2.$0, f3);else if(f2!=null&&f2.$==6)return bn((f7, f8) =>((((f9) =>(f_) =>(f$) => f_==null||f_.constructor===Object?cB(f9, f_, f$):cG(f9, f_, f$))(f1))(f7))(f8), f2.$0.Els, f3);else { const f5=f2.$1;const f6=f2.$0;f2=f6;f3=cB(f1, f5, f3);} } }
function cC(f1, f2){ return em(en(), cH(f1, dO(), f2));}
function cD(f1, f2, f3){ if(dw()){ const f4=null;return eu(() => { const f5=eo(f3);const f6=cL(f2, f5);const f7=cK(f2, f5);return ev(dx(dy(f6, cJ(f2, f5))), () => ev(cI(f1, f2), () => ev(dx(f7), () => { f2.PreviousNodes=f5;return ey(null);})));});} else return cI(f1, f2);}
function cE(f1, f2, f3){ const f4=eo(f3);cM(f1, f2.Top);f2.PreviousNodes=f4;}
function cF(f1, f2){ const f3=f1.parentNode;const f4=globalThis.document.createTextNode("");f3.insertBefore(f4, f1);cP(f1, f2);return f4;}
function cG(f1, f2, f3){ dq(f1, f3, f2);return f2;}
function cH(f1, f2, f3){ cA(f1, f3);const f4=dI(f1, f2);return cU.New(f4, f3, null, f1, cV(), fW(f4.OnAfterRender));}
function cI(f1, f2){ if(dD()){ const f3=(f4) => { requestAnimationFrame(() => { cM(f1, f2.Top);f4();});};return eD((f4, f5, f6) => f3.apply(null, [f4, f5, f6]));} else { cM(f1, f2.Top);return ey(null);} }
function cJ(f1, f2){ return dB(bo((f3) => dQ(f3.Attr), es(er(f2, eq((f3) => dP(f3.Attr), f1.PreviousNodes)))));}
function cK(f1, f2){ return dB(bo((f3) => dS(f3.Attr), es(er(f1.PreviousNodes, eq((f3) => dR(f3.Attr), f2)))));}
function cL(f1, f2){ const f3=(f5) => dT(f5.Attr);const f4=(f5) => eq(f3, f5);return dB(bo((f5) => dU(f5.Attr), es(et(f4(f1.PreviousNodes), f4(f2)))));}
function cM(f1, f2){!f1?cQ(f2):void 0;cR(f2.Children);cS(f2);}
function cN(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cO(f1, f2){ f1.Value=f2;f1.Dirty=true;}
function cP(f1, f2){ cB(f1.parentNode, f2, f1);}
function cQ(f1){ function f2(f3){ function f4(f5){ while(true){ if(f5!=null&&f5.$==0){ const f6=f5.$1;const f7=f5.$0;if(f4(f7))return true;else f5=f6;} else if(f5!=null&&f5.$==2){ const f8=f5.$0;if(f8.Dirty)return true;else f5=f8.Current;} else if(f5!=null&&f5.$==6){ const f9=f5.$0;return f9.Dirty||bj(f2, f9.Holes);} else return false;} } return f4(f3.Children);} dX(f1.El, f1.Attr);if(f2(f1))cT(f1);}
function cR(f1){ while(true){ if(f1!=null&&f1.$==1)return cM(false, f1.$0);else if(f1!=null&&f1.$==2){ const f2=f1.$0;f1=f2.Current;} else if(f1==null)return null;else if(f1!=null&&f1.$==5)return null;else if(f1!=null&&f1.$==4){ const f3=f1.$0;return f3.Dirty?(f3.Text.nodeValue=f3.Value,f3.Dirty=false):null;} else if(f1!=null&&f1.$==6){ const f4=f1.$0;bm((f7) => { cM(false, f7);}, f4.Holes);bm((f7) => { dX(f7[0], f7[1]);}, f4.Attrs);return cS(f4);} else { const f5=f1.$1;const f6=f1.$0;cR(f6);f1=f5;} } }
function cS(f1){ const f2=fW(f1.Render);if(f2!=null&&f2.$==1){ f2.$0(f1.El);fU(f1, "Render", null);} }
function cT(f1){ const f2=f1.El;function f3(f7, f8){ while(true){ if(f7!=null&&f7.$==1)return f7.$0.El;else if(f7!=null&&f7.$==2){ const f9=f7.$0;if(f9.Dirty){ f9.Dirty=false;return cB(f2, f9.Current, f8);} else f7=f9.Current;} else if(f7==null)return f8;else if(f7!=null&&f7.$==4)return f7.$0.Text;else if(f7!=null&&f7.$==5)return f7.$0;else if(f7!=null&&f7.$==6){ const f_=f7.$0;if(f_.Dirty)f_.Dirty=false;return bn((gb, gc) => gb==null||gb.constructor===Object?f3(gb, gc):gb, f_.Els, f8);} else { const f$=f7.$1;const ga=f7.$0;f7=ga;f8=f3(f$, f8);} } } const f4=f1.El;fF((f7) => { dr(f4, f7);}, fE(fG(f1), fD(f1.El, fW(f1.Delimiters))));let f5=f1.Children;const f6=fW(f1.Delimiters);f3(f5, f6!=null&&f6.$==1?f6.$0[1]:null);}
class cU { Attr;Children;Delimiters;El;ElKey;Render;Equals(f1){ return this.ElKey===f1.ElKey;} GetHashCode(){ return this.ElKey;} static New(f1, f2, f3, f4, f5, f6){ const f7={Attr:f1, Children:f2, El:f4, ElKey:f5};let f8=(fU(f7, "Delimiters", f3),fU(f7, "Render", f6),f7);return fZ(cU, f8);} }
function cV(){ cW(cX()+1);return cX();}
function cW(f1){ eS.counter=f1;}
function cX(){ return eS.counter;}
function cY(f1, f2){ return{$:2, $0:f1, $1:f2};}
function cZ(f1){ return{$:0, $0:f1};}
function c0(f1, f2){ return{$:3, $0:f1, $1:f2};}
class c1 extends bc { docNode_1;updates_1;elt;rvUpdates;static TreeNode(f1, f2){ const f3=ek.Create(f2);const f4=bo((f7) => dJ(f7[1]), f1.Attrs);let f5=eh(c2(), c8, f4);let f6=c8(f5, f3.v);return new c1(b3(f1), f6, w(f1.Els, 0), f3);} constructor(f1, f2, f3, f4){ super(f1, f2);this.docNode_1=f1;this.updates_1=f2;this.elt=f3;this.rvUpdates=f4;} }
function c2(f1){ const f2={s:cZ(f1)};return() => f2;}
function c3(f1, f2){ function f3(){ b8(f2(), f1, () => { ez().Fork(f3);});} ez().Fork(f3);}
function c4(f1, f2){ return c9(() => b9(f1, f2()));}
function c5(f1, f2, f3, f4){ return c9(() => b_(f1, f2(), f3(), f4()));}
function c6(f1){ return c9(() => b$(bJ((f2) => f2(), f1)));}
function c7(f1, f2, f3){ return c9(() => ca(f1, f2(), f3()));}
function c8(f1, f2){ return c9(() => cb(f1(), f2()));}
function c9(f1){ const f2={c:null, o:f1};return() => { let f3=f2.c;if(f3===null){ f3=f2.o();f2.c=f3;const f4=f3.s;if(f4!=null&&f4.$==0)f2.o=null;else cd(f3, () => { f2.c=null;});return f3;} else return f3;};}
function c_(f1){ let f2=null;let f3=0;const f4=f1.textContent;const f5=new RegExp(bb(), "g");while(f2=f5.exec(f4),f2!==null){ f1.parentNode.insertBefore(globalThis.document.createTextNode(dg(f4, P(f3), P(f5.lastIndex-w(f2, 0).length-1))), f1);f3=f5.lastIndex;const f6=globalThis.document.createElement("span");f6.setAttribute("ws-replace", w(f2, 1).toLowerCase());f1.parentNode.insertBefore(f6, f1);} f5.lastIndex=0;f1.textContent=dg(f4, P(f3), null);}
function c$(f1){ console.warn("Instantiating non-loaded template", f1);}
function da(f1, f2, f3){ const f4=f1.querySelector("[ws-replace]");return C(f4, null)?(console.warn("Filling non-existent text hole", f3),null):(f4.parentNode.replaceChild(globalThis.document.createTextNode(f2), f4),P(f4.getAttribute("ws-replace")));}
function db(f1, f2){ const f3=(f4) => { u0039(f1, "["+f4+"]", (f5) => { if(!f2.Contains(f5.getAttribute(f4)))f5.removeAttribute(f4);});};f3("ws-attr");f3("ws-onafterrender");f3("ws-var");u0039(f1, "[ws-hole]", (f4) => { if(!f2.Contains(f4.getAttribute("ws-hole"))){ f4.removeAttribute("ws-hole");while(f4.hasChildNodes())f4.removeChild(f4.lastChild);} });u0039(f1, "[ws-replace]", (f4) => { if(!f2.Contains(f4.getAttribute("ws-replace")))f4.parentNode.removeChild(f4);});u0039(f1, "[ws-on]", (f4) => { f4.setAttribute("ws-on", bt(" ", bp((f5) => f2.Contains(w(bu(f5, [":"], 1), 1)), bu(f4.getAttribute("ws-on"), [" "], 1))));});u0039(f1, "[ws-attr-holes]", (f4) => { const f5=bu(f4.getAttribute("ws-attr-holes"), [" "], 1);for(let f9=0, f_=f5.length-1;f9<=f_;f9++){ const f6=w(f5, f9);let f7=new RegExp(bb(), "g");let f8=f4.getAttribute(f6).replace(f7, (f$, ga) => f2.Contains(ga)?f$:"");f4.setAttribute(f6, f8);} });}
function dc(f1, f2){ df(f2);const f3=f2.nodeName.toLowerCase();const f4=f1.querySelector("[ws-attr="+f3+"]");if(C(f4, null))console.warn("Filling non-existent attr hole", f3);else { f4.removeAttribute("ws-attr");for(let f6=0, f7=f2.attributes.length-1;f6<=f7;f6++){ const f5=f2.attributes.item(f6);if(f5.name=="class"&&f4.hasAttribute("class"))f4.setAttribute("class", f4.getAttribute("class")+" "+f5.nodeValue);else f4.setAttribute(f5.name, f5.nodeValue);} } }
function dd(f1, f2){ const f3=(f4) => { u0039(f1, "["+f4+"]", (f5) => { let f6;const f7=(f6=null,[f2.TryGetValue(f5.getAttribute(f4).toLowerCase(), {get:() => f6, set:(f8) => { f6=f8;}}), f6]);if(f7[0])f5.setAttribute(f4, f7[1]);});};f3("ws-hole");f3("ws-replace");f3("ws-attr");f3("ws-onafterrender");f3("ws-var");u0039(f1, "[ws-on]", (f4) => { f4.setAttribute("ws-on", bt(" ", bo((f5) => { let f6;const f7=bu(f5, [":"], 1);const f8=(f6=null,[f2.TryGetValue(w(f7, 1), {get:() => f6, set:(f9) => { f6=f9;}}), f6]);return f8[0]?w(f7, 0)+":"+f8[1]:f5;}, bu(f4.getAttribute("ws-on"), [" "], 1))));});u0039(f1, "[ws-attr-holes]", (f4) => { const f5=bu(f4.getAttribute("ws-attr-holes"), [" "], 1);for(let f6=0, f7=f5.length-1;f6<=f7;f6++)((() => { const f8=w(f5, f6);return f4.setAttribute(f8, bH((f9, f_) => { const f$=r(f_);return f9.replace(new RegExp("\\${"+f$[0]+"}", "ig"), "${"+f$[1]+"}");}, f4.getAttribute(f8), f2));})());});}
function de(f1, f2, f3){ while(true){ if(f1.hasChildNodes())f3=f2.insertBefore(f1.lastChild, f3);else return null;} }
function df(f1){ const f2=f1.attributes;const f3=[];const f4=[];const f5=[];for(let f_=0, f$=f2.length-1;f_<=f$;f_++){ const f6=f2.item(f_);if(bv(f6.nodeName, "ws-on")&&f6.nodeName!="ws-onafterrender"&&f6.nodeName!="ws-on"){ f3.push(f6.nodeName);f4.push(dg(f6.nodeName, P("ws-on".length), null)+":"+f6.nodeValue.toLowerCase());} else if(!bv(f6.nodeName, "ws-")&&(new RegExp(bb())).test(f6.nodeValue)){ let f7=new RegExp(bb(), "g");let f8=f6.nodeValue.replace(f7, (ga, gb) =>"${"+gb.toLowerCase()+"}");f6.nodeValue=f8;f5.push(f6.nodeName);} else void 0;} if(!(f4.length==0))f1.setAttribute("ws-on", bt(" ", f4));if(!(f5.length==0))f1.setAttribute("ws-attr-holes", bt(" ", f5));const f9=(ga) => { const gb=f1.getAttribute(ga);if(gb==null){ } else f1.setAttribute(ga, gb.toLowerCase());};f9("ws-hole");f9("ws-replace");f9("ws-attr");f9("ws-onafterrender");f9("ws-var");bm((ga) => { f1.removeAttribute(ga);}, f3);}
function dg(f1, f2, f3){ if(f2==null){ if(f3!=null&&f3.$==1){ const f4=f3.$0;return f4<0?"":f1.slice(0, f4+1);} else return"";} else if(f3==null)return f1.slice(f2.$0);else { const f5=f3.$0;return f5<0?"":f1.slice(f2.$0, f5+1);} }
function dh(f1){ const f2=globalThis.document.createElement("div");if(!dj().test(f1)){ f2.appendChild(globalThis.document.createTextNode(f1));return f2;} else { const f3=dn().exec(f1);const f4=C(f3, null)?"":w(f3, 1).toLowerCase();const f5=(dk())[f4];const f6=f5?f5:dl();f2.innerHTML=f6[1]+f1.replace(dm(), "<$1></$2>")+f6[2];function f7(f8, f9){ while(true){ if(f9===0)return f8;else { const f_=f9;f8=f8.lastChild;f9=f_-1;} } } return f7(f2, f6[0]);} }
function di(f1){ const f2=[];for(let f3=0, f4=f1.childNodes.length-1;f3<=f4;f3++)f2.push(f1.childNodes[f3]);return f2;}
function dj(){ return eT.rhtml;}
function dk(){ return eT.wrapMap;}
function dl(){ return eT.defaultWrap;}
function dm(){ return eT.rxhtmlTag;}
function dn(){ return eT.rtagName;}
function do_1(f1, f2, f3){ const f4=f1.querySelectorAll(f2);for(let f5=0, f6=f4.length-1;f5<=f6;f5++)f3(f4[f5]);}
function dp(f1, f2){ const f3=globalThis.document.querySelectorAll(f1);for(let f4=0, f5=f3.length-1;f4<=f5;f4++)f2(f3[f4]);}
function dq(f1, f2, f3){ let f4;if(f3.parentNode===f1){ const f5=f3.nextSibling;let f6=C(f5, null)?null:f5;f4=f2===f6;} else f4=false;if(!f4)f1.insertBefore(f3, f2);}
function dr(f1, f2){ if(f2.parentNode===f1)f1.removeChild(f2);}
function ds(){ return q("The input sequence has an insufficient number of elements.");}
function dt(f1, f2){ let f3=true;let f4=0;while(f3&&f4<y(f2))if(C(f2[f4], f1))f3=false;else f4=f4+1;return!f3;}
function du(){ return q("The input must be non-negative.");}
class dv extends t { d;GetEnumerator(){ return cu(bJ((f1) => f1.K, this.d));} constructor(f1){ super();this.d=f1;} }
function dw(){ return eF();}
function dx(f1){ const f2=null;return eu(() => ev(dz(() => { }, eG(f1)), () => { eH(f1);return ey(null);}));}
function dy(f1, f2){ return dA(eV(f1.$0, f2.$0));}
function dz(f1, f2){ const f3=f2.Duration;if(f3===0)return ew();else { const f4=(f5) => { function f6(f7){ return(f8) => { const f9=f8-f7;f2.Compute(f9);f1();return f9<=f3?void requestAnimationFrame((f_) => {(f6(f7))(f_);}):f5();};} requestAnimationFrame((f7) => {(f6(f7))(f7);});};return eD((f5, f6, f7) => f4.apply(null, [f5, f6, f7]));} }
function dA(f1){ return{$:0, $0:f1};}
function dB(f1){ return dA(eX(bJ(eJ, f1)));}
function dC(){ return dA(eY());}
function dD(){ return eN.BatchUpdatesEnabled;}
function dE(f1){ const f2=[0];function f3(){ const f4=null;return eu(() => ev(f1, () => { const f5=f2[0];return C(f5, 1)?(f2[0]=0,ew()):C(f5, 2)?(f2[0]=1,f3()):ew();}));} return() => { const f4=f2[0];if(C(f4, 0)){ f2[0]=1;ex(f3(), null);} else C(f4, 1)?f2[0]=2:void 0;};}
class dF { static Cons(f1, f2){ return fZ(dF, {$:1, $0:f1, $1:f2});} static Empty=fZ(dF, {$:0});GetEnumerator(){ return new cy(this, null, (f1) => { const f2=f1.s;return f2.$==0?false:(f1.c=f2.$0,f1.s=f2.$1,true);}, void 0);} }
function dG(f1, f2, f3, f4){ const f5={DynElem:f1, DynFlags:f2, DynNodes:f3};fU(f5, "OnAfterRender", f4);return f5;}
function dH(f1){ let f2;const f3=f1.s;if(f3==null||(f3!=null&&f3.$==2?(f2=f3.$1,false):f3!=null&&f3.$==3?(f2=f3.$1,false):true))void 0;else { f1.s=null;for(let f5=0, f6=y(f2)-1;f5<=f6;f5++){ const f4=w(f2, f5);if(typeof f4=="object")(((f7) => { dH(f7);})(f4));else f4();} } }
function dI(f1, f2){ const f3=[];const f4=[];function f5(f8){ while(true){ if(!(f8===null)){ if(f8!=null&&f8.$==1)return f3.push(f8.$0);else if(f8!=null&&f8.$==2){ const f9=f8.$1;const f_=f8.$0;f5(f_);f8=f9;} else return f8!=null&&f8.$==3?f8.$0(f1):f8!=null&&f8.$==4?f4.push(f8.$0):null;} else return null;} } f5(f2);const f6=f3.slice(0);let f7=dG(f1, dL(f2), f6, f4.length===0?null:P((f8) => { bI((f9) => { f9(f8);}, f4);}));return f7;}
function dJ(f1){ return ei((f2) => f2.NChanged, c2(), c8, f1.DynNodes);}
function dK(f1){ return dG(f1, 0, [], null);}
function dL(f1){ return f1!==null&&f1.hasOwnProperty("flags")?f1.flags:0;}
function dM(f1){ return ec.A3(f1);}
function dN(f1, f2){ return ec.A1(new eZ(f1, f2));}
function dO(){ return e1.EmptyAttr;}
function dP(f1){ const f2=2;return(f1.DynFlags&f2)===f2;}
function dQ(f1){ return dW(f1, (f2, f3) => f2.NGetExitAnim(f3));}
function dR(f1){ const f2=1;return(f1.DynFlags&f2)===f2;}
function dS(f1){ return dW(f1, (f2, f3) => f2.NGetEnterAnim(f3));}
function dT(f1){ const f2=4;return(f1.DynFlags&f2)===f2;}
function dU(f1){ return dW(f1, (f2, f3) => f2.NGetChangeAnim(f3));}
function dV(f1, f2){ if(f1===null)return f2;else if(f2===null)return f1;else { const f3=ec.A2(f1, f2);dY(f3, dL(f1)|dL(f2));return f3;} }
function dW(f1, f2){ return dB(bo((f3) => f2(f3, f1.DynElem), f1.DynNodes));}
function dX(f1, f2){ bm((f3) => { f3.NSync(f1);}, f2.DynNodes);}
function dY(f1, f2){ f1.flags=f2;}
class dZ extends A { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d0 extends A { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d1 extends A { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d2(f1, f2){ return dM((f3) => { f3.addEventListener(f1, (f4) =>(f2(f3))(f4), false);});}
function d3(f1){ return ec.A4(f1);}
function d4(f1, f2){ return dN(f2, (f3) =>(f4) => f3.setAttribute(f1, f4));}
function d5(f1){ return d$(fu(), f1);}
function d6(f1){ return d$(fv(), f1);}
function d7(f1){ return d$(fw(), f1);}
function d8(f1){ return d$(fx(), f1);}
function d9(f1){ return d$(fy(), f1);}
function d_(f1){ return d$(fz(), f1);}
function d$(f1, f2){ const f3=f1(f2);return ec.Append(dM(f3[0]), ea(f3[1], f3[2]));}
function ea(f1, f2){ return dN(f2, f1);}
class eb extends A { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ec { static Handler(f1, f2){ return ec.HandlerImpl(f1, f2);} static Concat(f1){ const f2=ej(f1);return eh(dO(), ec.Append, f2);} static Create(f1, f2){ return dM((f3) => { f3.setAttribute(f1, f2);});} static HandlerImpl(f1, f2){ return dM((f3) => { f3.addEventListener(f1, (f4) =>(f2(f3))(f4), false);});} static Append(f1, f2){ return dV(f1, f2);} static A4(f1){ return fZ(ec, {$:4, $0:f1});} static A3(f1){ return fZ(ec, {$:3, $0:f1});} static A1(f1){ return fZ(ec, {$:1, $0:f1});} static A2(f1, f2){ return fZ(ec, {$:2, $0:f1, $1:f2});} }
class ed extends A { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ee extends A { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ef(f1){ return{$:0, $0:f1};}
function eg(f1){ return{$:1, $0:f1};}
function eh(f1, f2, f3){ const f4=y(f3);function f5(f6){ return(f7) => { let f8;switch(f7<=0?0:f7===1?f6>=0&&f6<f4?1:(f8=f7,2):(f8=f7,2)){ case 0:return f1;case 1:return w(f3, f6);case 2:const f9=f7/2>>0;return f2((f5(f6))(f9), (f5(f6+f9))(f7-f9));} };} return(f5(0))(f4);}
function ei(f1, f2, f3, f4){ const f5=y(f4);function f6(f7){ return(f8) => { let f9;switch(f8<=0?0:f8===1?f7>=0&&f7<f5?1:(f9=f8,2):(f9=f8,2)){ case 0:return f2;case 1:return f1(w(f4, f7));case 2:const f_=f8/2>>0;return f3((f6(f7))(f_), (f6(f7+f_))(f8-f_));} };} return(f6(0))(f5);}
function ej(f1){ if(f1 instanceof Array)return f1;else if(f1 instanceof dF)return bl(f1);else if(f1===null)return[];else { const f2=[];const f3=cu(f1);try { while(f3.MoveNext())f2.push(f3.Current);return f2;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } }
class ek { c;s;v;static Create(f1){ let f2;f2=null;f2=ek.New(f1, null, () => { let f3;f3=f2.s;return f3===null?(f3=cc(f2.c()),f2.s=f3,cd(f3, () => { f2.s=null;}),f3):f3;});return f2;} static New(f1, f2, f3){ return fZ(ek, {c:f1, s:f2, v:f3});} }
class el extends t { d;GetEnumerator(){ return cu(bJ((f1) => f1.V, this.d));} constructor(f1){ super();this.d=f1;} }
function em(f1, f2){ return{PreviousNodes:f1, Top:f2};}
function en(){ return ep(new bE("New_3"));}
function eo(f1){ const f2=[];function f3(f6, f7){ while(true)switch(f6){ case 0:if(f7!=null&&f7.$==0){ const f8=f7.$1;const f9=f7.$0;f3(0, f9);f7=f8;} else if(f7!=null&&f7.$==1){ const f_=f7.$0;f7=f_;f6=1;} else if(f7!=null&&f7.$==2){ const f$=f7.$0;f7=f$.Current;} else if(f7!=null&&f7.$==6){ const ga=f7.$0.Holes;return(((gb) =>(gc) => { bm(gb, gc);})(f5))(ga);} else return null;break;case 1:f2.push(f7);f7=f7.Children;f6=0;break;} } function f4(f6){ return f3(0, f6);} function f5(f6){ return f3(1, f6);} f4(f1);return ep(new bE("New_2", f2));}
function ep(f1){ return{$:0, $0:f1};}
function eq(f1, f2){ return ep(e_(f1, f2.$0));}
function er(f1, f2){ return ep(e$(f1.$0, f2.$0));}
function es(f1){ return fa(f1.$0);}
function et(f1, f2){ return ep(fb(f1.$0, f2.$0));}
function eu(f1){ return(f2) => { try {(f1())(f2);} catch(f3){ f2.k(e5(f3));} };}
function ev(f1, f2){ return eA((f3) => { f1(e4((f4) => { if(f4.$==0){ const f5=f4.$0;ez().Fork(() => { try {(f2(f5))(f3);} catch(f6){ f3.k(e5(f6));} });} else ez().Fork(() => { f3.k(f4);});}, f3.ct));});}
function ew(){ return e8.Zero;}
function ex(f1, f2){ const f3=(eB())[0];const f4=f2==null?f3:f2.$0;ez().Fork(() => { if(!f4.c)f1(e4((f5) => { if(f5.$==1)eC(f5.$0);}, f4));});}
function ey(f1){ return(f2) => { f2.k(e6(f1));};}
function ez(){ return e8.scheduler;}
function eA(f1){ return(f2) => { if(f2.ct.c)eE(f2);else f1(f2);};}
function eB(){ return e8.defCTS;}
function eC(f1){ console.log("WebSharper: Uncaught asynchronous exception", f1);}
function eD(f1){ return(f2) => { const f3=[false];const f4=(f5) => { if(f3[0])q("A continuation provided by Async.FromContinuations was invoked multiple times");else { f3[0]=true;ez().Fork(f5);} };f1((f5) => { f4(() => { f2.k(e6(f5));});}, (f5) => { f4(() => { f2.k(e5(f5));});}, (f5) => { f4(() => { f2.k(e7(f5));});});};}
function eE(f1){ f1.k(e7(new fL("New", f1.ct)));}
function eF(){ return eU.UseAnimations;}
function eG(f1){ return eI(be((f2) => f2.$==1?P(f2.$0):null, eW(f1.$0)));}
function eH(f1){ bm((f2) => { if(f2.$==0)f2.$0();}, eW(f1.$0));}
function eI(f1){ const f2=ej(f1);const f3=y(f2);if(f3===0)return eK();else if(f3===1)return w(f2, 0);else { const f4=bM(bJ((f6) => f6.Duration, f2));const f5=bo((f6) => eM(f4, f6), f2);return eL(f4, (f6) => { bm((f7) => { f7.Compute(f6);}, f5);});} }
function eJ(f1){ return f1.$0;}
function eK(f1){ return eL(0, () => f1);}
function eL(f1, f2){ return{Compute:f2, Duration:f1};}
function eM(f1, f2){ const f3=f2.Compute;const f4=f2.Duration;const f5=fM(() => f2.Compute(f2.Duration));return{Compute:(f6) => f6>=f4?f5.f():f3(f6), Duration:f1};}
let eN=fV((f1) => class f2 { static { eN=f1(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eO(f1){ let f2=[];let f3;for(var f4 in f1)f2.push.apply(f2, f1[f4]);return f2;}
function eP(f1){ return f1.$==1?f1.$0:eR();}
function eQ(f1){ return f1.$==1?f1.$1:eR();}
function eR(){ return q("The input list was empty.");}
let eS=fV((f1) => class f2 { static { eS=f1(this);} static counter;static { this.counter=0;} });
let eT=fV((f1) => class f2 { static { eT=f1(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f3=[1, "<table>", "</table>"];let f4=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f3], ["tbody", f3], ["tfoot", f3], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f4;this.defaultWrap=[0, "", ""];} });
let eU=fV((f1) => class f2 { static { eU=f1(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e3.Custom((f3) => { const f4=f3*f3;return 3*f4-2*(f4*f3);});this.UseAnimations=true;} });
function eV(f1, f2){ return f1.$==0?f2:f2.$==0?f1:{$:2, $0:f1, $1:f2};}
function eW(f1){ const f2=[];function f3(f4){ while(true){ if(f4.$==1)return f2.push(f4.$0);else if(f4.$==2){ const f5=f4.$1;const f6=f4.$0;f3(f6);f4=f5;} else return f4.$==3?bm((f7) => { f2.push(f7);}, f4.$0):null;} } f3(f1);return f2.slice(0);}
function eX(f1){ const f2=ej(f1);return eh(eY(), eV, f2);}
function eY(){ return fP.Empty;}
class eZ extends t { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f1){ return dC();} NGetEnterAnim(f1){ return dC();} NGetChangeAnim(f1){ return dC();} NSync(f1){ if(this.dirty){(this.push(f1))(this.value);this.dirty=false;} } constructor(f1, f2){ super();this.push=f2;this.value=void 0;this.dirty=false;this.updates=c4((f3) => { this.value=f3;this.dirty=true;}, f1);} }
class e0 extends Error { static New(){ return new this("New");} static New_1(f1){ return new this("New_1", f1);} constructor(f1, f2){ if(f1=="New"){ f1="New_1";f2="The given key was not present in the dictionary.";} if(f1=="New_1"){ const f3=f2;super(f3);} } }
let e1=fV((f1) => class f2 { static { e1=f1(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gh) =>[(gi) => { gi.addEventListener("change", () => gh.Get()!=gi.checked?gh.Set(gi.checked):null);}, (gi) =>(gj) => gj!=null&&gj.$==1?void(gi.checked=gj.$0):null, c4(P, gh.View)];this.StringSet=(gh) =>(gi) => { gh.value=gi;};this.StringGet=(gh) => P(gh.value);const f3=fe();const f4=fd();this.StringApply=(gh) => fc(f3, f4, gh);this.StringListSet=(gh) =>(gi) => { const gj=gh.options;for(let gk=0, gl=gj.length-1;gk<=gl;gk++)((() => { const gm=gj.item(gk);gm.selected=dt(gm.value, gi);})());};this.StringListGet=(gh) => { const gi=gh.selectedOptions;return P(bg(bK(() => bL((gj) =>[gi.item(gj).value], s(0, gi.length-1)))));};const f5=fg();const f6=ff();this.StringListApply=(gh) => fc(f5, f6, gh);this.DateTimeSetUnchecked=(gh) =>(gi) => { gh.value=(new Date(gi)).toLocaleString();};this.DateTimeGetUnchecked=(gh) => { let gi;let gj;const gk=gh.value;if(fA(gk))return P(-8640000000000000);else { gi=0;const gl=fJ(gk);let gm=gl!=null&&gl.$==1&&(gi=gl.$0,true);gj=[gm, gi];return gj[0]?P(gj[1]):null;} };const f7=fi();const f8=fh();this.DateTimeApplyUnchecked=(gh) => fc(f7, f8, gh);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gh) => { const gi=gh.files;return P(bg(bK(() => bJ((gj) => gi.item(gj), s(0, gi.length-1)))));};const f9=fl();const f_=fk();this.FileApplyUnchecked=(gh) => fj(f9, f_, gh);this.IntSetUnchecked=(gh) =>(gi) => { gh.value=String(gi);};this.IntGetUnchecked=(gh) => { const gi=gh.value;if(fA(gi))return P(0);else { const gj=+gi;return gj!==gj>>0?null:P(gj);} };const f$=fn();const ga=fm();this.IntApplyUnchecked=(gh) => fc(f$, ga, gh);this.IntSetChecked=(gh) =>(gi) => { const gj=gi.Input;return gh.value!=gj?void(gh.value=gj):null;};this.IntGetChecked=(gh) => { let gi;let gj;const gk=gh.value;if(fA(gk))gi=(gh.checkValidity?gh.checkValidity():true)?fB.Blank(gk):fB.Invalid(gk);else { const gl=(gj=0,[bC(gk, {get:() => gj, set:(gm) => { gj=gm;}}), gj]);gi=gl[0]?fB.Valid(gl[1], gk):fB.Invalid(gk);} return P(gi);};const gb=fp();const gc=fo();this.IntApplyChecked=(gh) => fc(gb, gc, gh);this.FloatSetUnchecked=(gh) =>(gi) => { gh.value=String(gi);};this.FloatGetUnchecked=(gh) => { const gi=gh.value;if(fA(gi))return P(0);else { const gj=+gi;return isNaN(gj)?null:P(gj);} };const gd=fr();const ge=fq();this.FloatApplyUnchecked=(gh) => fc(gd, ge, gh);this.FloatSetChecked=(gh) =>(gi) => { const gj=gi.Input;return gh.value!=gj?void(gh.value=gj):null;};this.FloatGetChecked=(gh) => { let gi;const gj=gh.value;if(fA(gj))gi=(gh.checkValidity?gh.checkValidity():true)?fB.Blank(gj):fB.Invalid(gj);else { const gk=+gj;gi=isNaN(gk)?fB.Invalid(gj):fB.Valid(gk, gj);} return P(gi);};const gf=ft();const gg=fs();this.FloatApplyChecked=(gh) => fc(gf, gg, gh);} });
class e2 extends t { idle;robin;Fork(f1){ this.robin.push(f1);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f1=Date.now();let f2=true;while(f2)if(this.robin.length===0){ this.idle=true;f2=false;} else {(this.robin.shift())();Date.now()-f1>40?(setTimeout(() => { this.tick();}, 0),f2=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class e3 extends t { transformTime;static Custom(f1){ return new e3(f1);} constructor(f1){ super();this.transformTime=f1;} }
function e4(f1, f2){ return{k:f1, ct:f2};}
function e5(f1){ return{$:1, $0:f1};}
function e6(f1){ return{$:0, $0:f1};}
function e7(f1){ return{$:2, $0:f1};}
let e8=fV((f1) => class f2 { static { e8=f1(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=e9(false, []);this.scheduler=new e2();this.defCTS=[new fC()];this.Zero=ey();this.GetCT=(f3) => { f3.k(e6(f3.ct));};} });
function e9(f1, f2){ return{c:f1, r:f2};}
function e_(f1, f2){ return new bE("New_2", bp(f1, fa(f2)));}
function e$(f1, f2){ const f3=new bE("New_2", fa(f2));f3.ExceptWith(fa(f1));return f3;}
function fa(f1){ const f2=bs(f1.Count, void 0);f1.CopyTo(f2, 0);return f2;}
function fb(f1, f2){ const f3=new bE("New_2", fa(f1));f3.IntersectWith(fa(f2));return f3;}
function fc(f1, f2, f3){ let f4;f4=null;return[(f5) => { const f6=() => { f3.UpdateMaybe((f7) => { let f8;f4=f1(f5);return f4!=null&&f4.$==1&&(!C(f4.$0, f7)&&(f8=[f4, f4.$0],true))?f8[0]:null;});};f5.addEventListener("change", f6);f5.addEventListener("input", f6);f5.addEventListener("keypress", f6);}, (f5) => { const f6=f2(f5);return(f7) => f7==null?null:f6(f7.$0);}, c4((f5) => { let f6;return f4!=null&&f4.$==1&&(C(f4.$0, f5)&&(f6=f4.$0,true))?null:P(f5);}, f3.View)];}
function fd(){ return e1.StringSet;}
function fe(){ return e1.StringGet;}
function ff(){ return e1.StringListSet;}
function fg(){ return e1.StringListGet;}
function fh(){ return e1.DateTimeSetUnchecked;}
function fi(){ return e1.DateTimeGetUnchecked;}
function fj(f1, f2, f3){ let f4;f4=null;return[(f5) => { f5.addEventListener("change", () => { f3.UpdateMaybe((f6) => { let f7;f4=f1(f5);return f4!=null&&f4.$==1&&(f4.$0!==f6&&(f7=[f4, f4.$0],true))?f7[0]:null;});});}, (f5) => { const f6=f2(f5);return(f7) => f7==null?null:f6(f7.$0);}, c4((f5) => { let f6;return f4!=null&&f4.$==1&&(C(f4.$0, f5)&&(f6=f4.$0,true))?null:P(f5);}, f3.View)];}
function fk(){ return e1.FileSetUnchecked;}
function fl(){ return e1.FileGetUnchecked;}
function fm(){ return e1.IntSetUnchecked;}
function fn(){ return e1.IntGetUnchecked;}
function fo(){ return e1.IntSetChecked;}
function fp(){ return e1.IntGetChecked;}
function fq(){ return e1.FloatSetUnchecked;}
function fr(){ return e1.FloatGetUnchecked;}
function fs(){ return e1.FloatSetChecked;}
function ft(){ return e1.FloatGetChecked;}
function fu(){ return e1.StringApply;}
function fv(){ return e1.FloatApplyUnchecked;}
function fw(){ return e1.BoolCheckedApply;}
function fx(){ return e1.DateTimeApplyUnchecked;}
function fy(){ return e1.FileApplyUnchecked;}
function fz(){ return e1.StringListApply;}
function fA(f1){ return bz(fI, f1);}
class fB { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f1){ return fZ(fB, {$:2, $0:f1});} static Invalid(f1){ return fZ(fB, {$:1, $0:f1});} static Valid(f1, f2){ return fZ(fB, {$:0, $0:f1, $1:f2});} }
class fC extends t { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function fD(f1, f2){ let f3;if(f2!=null&&f2.$==1){ const f4=[];f3=f2.$0[0].nextSibling;while(f3!==f2.$0[1]){ f4.push(f3);f3=f3.nextSibling;} return fH(f4);} else { let f5=f1.childNodes.length;const f6=f1.childNodes;let f7=bf(f5, (f8) => f6[f8]);return fH(f7);} }
function fE(f1, f2){ const f3=f1.$0;return fH(bp((f4) => br((f5) =>!(f4===f5), f3), f2.$0));}
function fF(f1, f2){ bm(f1, f2.$0);}
function fG(f1){ const f2=[];function f3(f4){ while(true){ if(f4!=null&&f4.$==2){ const f5=f4.$0;f4=f5.Current;} else if(f4!=null&&f4.$==1)return f2.push(f4.$0.El);else if(f4==null)return null;else if(f4!=null&&f4.$==5)return f2.push(f4.$0);else if(f4!=null&&f4.$==4)return f2.push(f4.$0.Text);else if(f4!=null&&f4.$==6){ const f6=f4.$0.Els;return(((f9) =>(f_) => { bm(f9, f_);})((f9) => { if(f9==null||f9.constructor===Object)f3(f9);else f2.push(f9);}))(f6);} else { const f7=f4.$1;const f8=f4.$0;f3(f8);f4=f7;} } } f3(f1.Children);return fH(ej(f2));}
function fH(f1){ return{$:0, $0:f1};}
function fI(f1){ return f1.match(new RegExp("\\s"))!==null;}
function fJ(f1){ const f2=Date.parse(f1);return isNaN(f2)?null:P(f2);}
function fK(f1, f2, f3, f4){ const f5=+f1;const f6=f5===f5-f5%1&&f5>=f2&&f5<=f3;if(f6)f4.set(f5);return f6;}
class fL extends Error { ct;static New(f1){ return new this("New", f1);} static New_1(f1, f2, f3){ return new this("New_1", f1, f2, f3);} constructor(f1, f2, f3, f4){ let f5;if(f1=="New"){ f5=f2;f1="New_1";f2="The operation was canceled.";f3=null;f4=f5;} if(f1=="New_1"){ const f6=f2;const f7=f3;const f8=f4;super(f6);this.inner=f7;this.ct=f8;} } }
function fM(f1){ return fR(false, f1, fN);}
function fN(){ const f1=this.v();this.c=true;this.v=f1;this.f=fO;return f1;}
function fO(){ return this.v;}
let fP=fV((f1) => class f2 { static { fP=f1(this);} static Empty;static { this.Empty={$:0};} });
function fQ(f1){ f1.splice(0, y(f1));}
function fR(f1, f2, f3){ return{c:f1, v:f2, f:f3};}
f0(() => { b();});
fS();

